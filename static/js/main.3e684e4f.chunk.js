(this["webpackJsonpreact-sneakers"]=this["webpackJsonpreact-sneakers"]||[]).push([[0],{13:function(e,t,c){e.exports={card:"Card_card__1zajd",favorite:"Card_favorite__1D7pc",cardButton:"Card_cardButton__2UgEg",cardSale:"Card_cardSale__2U2zm",plus:"Card_plus__TtVZk"}},40:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c(33),s=c.n(a),n=(c(40),c(17)),i=c(10),o=c.n(i),d=c(16),j=c(6),l=c(12),u=c(1);function b(e){return Object(u.jsxs)("header",{children:[Object(u.jsxs)("div",{className:"headerLeft",children:[Object(u.jsx)(l.b,{to:"/",children:Object(u.jsx)("img",{width:"40",height:"40",src:"/img/logo.png",alt:"logo"})}),Object(u.jsxs)("div",{className:"headerInfo",children:[Object(u.jsx)("h3",{children:"React sneakers"}),Object(u.jsx)("p",{children:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d "})]})]}),Object(u.jsxs)("ul",{className:"headerRight",children:[Object(u.jsxs)("li",{onClick:e.onClickCard,children:[Object(u.jsx)("img",{width:"18",height:"18",src:"img/cart.svg",alt:"logo"}),Object(u.jsx)("span",{children:"1250 $"})]}),Object(u.jsx)("li",{children:Object(u.jsx)(l.b,{to:"/favorites",children:Object(u.jsx)("img",{width:"18",height:"18",src:"img/Heard.svg",alt:"logo"})})}),Object(u.jsx)("li",{children:Object(u.jsx)("img",{width:"18",height:"18",src:"img/user.svg",alt:"logo"})})]})]})}function h(e){var t=e.title,c=e.img,a=e.description,s=Object(r.useContext)(y).setCartOpened;return Object(u.jsxs)("div",{className:"cartEmpty",children:[Object(u.jsx)("img",{className:"empty",src:c,alt:"garbich"}),Object(u.jsx)("h2",{children:t}),Object(u.jsxs)("p",{children:[" ",a]}),Object(u.jsxs)("button",{onClick:function(){return s(!1)},className:"greenButton",children:["\u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434",Object(u.jsx)("img",{className:"arow",src:"img/arrow.svg",alt:"Arow"})]})]})}var m=c(8),O=c.n(m),x=function(e){return new Promise((function(t){return setTimeout(e)}))};function v(e){var t=e.onClose,c=e.items,a=void 0===c?[]:c,s=e.onRemove,n=Object(r.useState)(!1),i=Object(j.a)(n,2),l=i[0],b=i[1],m=Object(r.useState)(null),v=Object(j.a)(m,2),g=v[0],f=v[1],p=Object(r.useState)(!1),k=Object(j.a)(p,2),N=k[0],C=k[1],w=Object(r.useContext)(y),_=w.setCartItems,S=w.cartItems,B=function(){var e=Object(d.a)(o.a.mark((function e(){var t,c,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,O.a.post("https://60d6d8a1307c300017a5f527.mockapi.io/orders",{items:S});case 4:t=e.sent,c=t.data,f(c.id),b(!0),_([]),r=0;case 10:if(!(r<S.length)){e.next=19;break}return a=S[r],e.next=14,O.a.delete("https://60d6d8a1307c300017a5f527.mockapi.io/card/",Number(a.id));case 14:return e.next=16,x(1e3);case 16:r++,e.next=10;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437 :(");case 24:C(!1);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"overlay",children:Object(u.jsxs)("div",{className:"drawer",children:[Object(u.jsxs)("h2",{children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430",Object(u.jsx)("img",{className:"removeBtn",src:"img/Btn_remove.svg",alt:"remove",onClick:t})]}),a.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"items",children:a.map((function(e){return Object(u.jsxs)("div",{className:"cartItem",children:[Object(u.jsx)("img",{className:"sneakers_remove",src:e.imgUrl,alt:"sneakers"}),Object(u.jsxs)("div",{className:"names",children:[Object(u.jsx)("p",{children:e.title}),Object(u.jsx)("b",{children:e.price})]}),Object(u.jsx)("img",{onClick:function(){return s(e.id)},className:"removeBtn",src:"img/Btn_remove.svg",alt:"remove"})]},e.id)}))}),Object(u.jsxs)("div",{className:"totalBlock",children:[Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:[Object(u.jsx)("span",{children:" \u0418\u0442\u043e\u0433\u043e"}),Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("b",{children:"21234 \u0440\u0443\u0431"})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("span",{children:"\u041d\u0430\u043b\u043e\u0435"}),Object(u.jsx)(u.Fragment,{}),Object(u.jsx)("b",{children:" 2102 \u0440\u0443\u0431"})]})]}),Object(u.jsxs)("button",{className:"greenButton",disabled:N,onClick:B,children:["buy",Object(u.jsx)("img",{className:"arow",src:"img/arrow.svg",alt:"arrow"})]})]})]}):Object(u.jsx)(h,{title:l?"\u0417\u0430\u043a\u0430\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d":"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430",img:l?"img/check.jpg":"img/empty.png",description:l?"\u0417\u0430\u043a\u0430\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d \u2116".concat(g):"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u043f\u0430\u0440\u0443 \u043a\u0440\u043e\u0441\u0441\u043e\u0432\u043e\u043a, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437."})]})})}var g=c(23),f=c(13),p=c.n(f),k=c(35);function N(e){var t=e.id,c=e.title,a=e.imgUrl,s=e.price,n=e.onFavorites,i=e.onPlus,o=e.favorited,d=void 0!==o&&o,l=e.loading,b=void 0!==l&&l,h=Object(r.useContext)(y).isItemAdded,m=Object(r.useState)(d),O=Object(j.a)(m,2),x=O[0],v=O[1];return Object(u.jsx)("div",{className:p.a.card,children:b?Object(u.jsxs)(k.a,{speed:2,width:155,height:265,viewBox:"0 0 155 265",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(u.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"150",height:"150"}),Object(u.jsx)("rect",{x:"0",y:"170",rx:"5",ry:"5",width:"150",height:"15"}),Object(u.jsx)("rect",{x:"0",y:"190",rx:"5",ry:"5",width:"90",height:"15"}),Object(u.jsx)("rect",{x:"0",y:"230",rx:"5",ry:"5",width:"80",height:"25"}),Object(u.jsx)("rect",{x:"118",y:"223",rx:"10",ry:"10",width:"32",height:"32"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:p.a.favorite,onClick:function(){n({id:t,title:c,imgUrl:a,price:s}),v(!x)},children:Object(u.jsx)("img",{src:x?"img/heard_liked.svg":"img/unLike.svg",alt:"heart"})}),Object(u.jsx)("img",{width:"100%",height:"135",src:a,alt:"1"}),Object(u.jsx)("h5",{children:c}),Object(u.jsxs)("div",{className:p.a.cardButton,children:[Object(u.jsxs)("div",{className:p.a.cardSale,children:[Object(u.jsx)("span",{children:"\u0446\u0435\u043d\u0430"}),Object(u.jsx)("b",{children:s})]}),Object(u.jsx)("img",{className:p.a.plus,src:h(t)?"/img/but-green.svg":"/img/plus.svg",alt:"plus",onClick:function(){i({id:t,title:c,imgUrl:a,price:s})}})]})]})})}function C(e){var t=e.items,c=e.searchValue,r=e.setSearchValue,a=e.onAddFavorites,s=e.onAddToCard,i=e.onChangeSearchInput,o=e.isLoading;return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("div",{className:"search_top",children:[Object(u.jsx)("h1",{children:c?"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442:".concat(c):"All sneakers"}),Object(u.jsx)("img",{className:"clear",onClick:function(){r("")},src:"img/Btn_remove.svg",alt:"remove"}),Object(u.jsxs)("div",{className:"search_block",children:[Object(u.jsx)("img",{src:"img/search.svg",alt:"Search"}),Object(u.jsx)("input",{value:c,onChange:i,placeholder:"search"})]})]}),Object(u.jsx)("div",{className:"Sneakers",children:function(){var e=t.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())}));return(o?Object(n.a)(Array(8)):e).map((function(e,t){return Object(u.jsx)(N,Object(g.a)(Object(g.a)({},e),{},{onFavorites:a,onPlus:function(e){return s(e)},loading:o}),t)}))}()})]})}var w=c(2);function _(){var e=Object(r.useContext)(y),t=e.favorites,c=e.onAddFavorites;return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"search_top",children:Object(u.jsx)("h1",{children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"})}),Object(u.jsx)("div",{className:"favorites",children:t.map((function(e){return Object(u.jsx)(N,{id:e.id,imgUrl:e.imgUrl,price:e.price,title:e.title,favorited:!0,onFavorites:c},e.id)}))})]})}var y=Object(r.createContext)({});var S=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)([]),i=Object(j.a)(s,2),l=i[0],h=i[1],m=Object(r.useState)([]),x=Object(j.a)(m,2),g=x[0],f=x[1],p=Object(r.useState)(""),k=Object(j.a)(p,2),N=k[0],S=k[1],B=Object(r.useState)(!1),I=Object(j.a)(B,2),A=I[0],F=I[1],U=Object(r.useState)(!0),L=Object(j.a)(U,2),V=L[0],E=L[1];Object(r.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://60d6d8a1307c300017a5f527.mockapi.io/card");case 2:return t=e.sent,e.next=5,O.a.get("https://60d6d8a1307c300017a5f527.mockapi.io/favorites");case 5:return c=e.sent,e.next=8,O.a.get("https://60d6d8a1307c300017a5f527.mockapi.io/items");case 8:r=e.sent,E(!1),h(t.data),f(c.data),a(r.data);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var P=function(){var e=Object(d.a)(o.a.mark((function e(t){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!g.find((function(e){return e.id===t.id}))){e.next=6;break}O.a.delete("https://60d6d8a1307c300017a5f527.mockapi.io/favorites/".concat(t.id)),f((function(e){return e.filter((function(e){return e.id!==t.id}))})),e.next=11;break;case 6:return e.next=8,O.a.post("https://60d6d8a1307c300017a5f527.mockapi.io/favorites",t);case 8:c=e.sent,r=c.data,f((function(e){return[].concat(Object(n.a)(e),[r])}));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(y.Provider,{value:{items:c,cartItems:l,favorites:g,onAddFavorites:P,isItemAdded:function(e){return l.some((function(t){return Number(t.id)===Number(e)}))},setCartOpened:F,setCartItems:h},children:Object(u.jsxs)("div",{className:"wrapper",children:[A&&Object(u.jsx)(v,{onRemove:function(e){O.a.delete("https://60d6d8a1307c300017a5f527.mockapi.io/card/".concat(e)),h((function(t){return t.filter((function(t){return t.id!==e}))}))},items:l,onClose:function(){return F(!1)}}),Object(u.jsx)(b,{onClickCard:function(){return F(!0)}}),Object(u.jsx)(w.a,{path:"/",exact:!0,children:Object(u.jsx)(C,{items:c,cartItems:l,searchValue:N,setSearchValue:S,onAddFavorites:P,onAddToCard:function(e){try{l.find((function(t){return Number(t.id)===Number(e.id)}))?(O.a.delete("https://60d6d8a1307c300017a5f527.mockapi.io/card/".concat(e.id)),h((function(t){return t.filter((function(t){return Number(t.id)!==Number(e.id)}))}))):(O.a.post("https://60d6d8a1307c300017a5f527.mockapi.io/card/",e),h((function(t){return[].concat(Object(n.a)(t),[e])})))}catch(t){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c")}},onChangeSearchInput:function(e){S(e.target.value)},isLoading:V})}),Object(u.jsx)(w.a,{path:"/favorites",exact:!0,children:Object(u.jsx)(_,{})})]})})};s.a.render(Object(u.jsx)(l.a,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.3e684e4f.chunk.js.map